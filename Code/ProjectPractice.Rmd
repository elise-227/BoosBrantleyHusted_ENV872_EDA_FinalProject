---
title: "Project Practive"
author: "Kelsey Husted"
date: "3/29/2022"
output:
  html_document:
    df_print: paged
  pdf_document: default
---

```{r setup, include=FALSE, echo=FALSE}

```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r include=FALSE}
getwd()
setwd("/Users/kelseyhusted 1/Desktop/Data Analytics/BoosBrantleyHusted_ENV872_EDA_FinalProject")


library(tidyverse)
#load packages
library(lubridate)
#install.packages("zoo")
library(zoo)
library(trend)


AlpineWaterData <- read.csv("Data/Raw/AlpineSite.csv")

#SacrWaterData <- read.csv("Data/Raw/SacromentoSite.csv")

#AlpinePrecipitation <- read.csv("Data/Raw/Alpine_Precipitation.csv")

#InsectData <- read.csv("Data/Raw/station.csv")

# Format Date
AlpineWaterData$datetime <- as.Date(AlpineWaterData$datetime, format = "%m/%d/%y")
#SacrWaterData$datetime <- as.Date(SacrWaterData$datetime, format = "%m/%d/%y")
```

## Including Plots


```{r pressure, echo=FALSE}
#Alpine Discharge

AlpineWaterData.processed <- AlpineWaterData %>%
  rename(Discharge = X103887_00060,
         Date = datetime) %>%
  select(agency_cd:Discharge)

#Alpine Plot
ggplot(AlpineWaterData.processed, aes(x = Date, y = Discharge)) +
  geom_line()

#Alpine time-series
#Alpine.ts <- ts(AlpineWaterData.processed$Discharge, start = c(1990,10), frequency = 365)
#head(Alpine.ts, 10)
#Decompose
#Alpine.ts.decompose <- stl(Alpine.ts, s.window = "periodic")
#plot(Alpine.ts.decompose)



---------------------------------------------------
#Sacromento
#SacrWaterData.processed <- SacrWaterData %>%
  #rename(Discharge = X176623_00060,
         #Date = datetime) %>%
  #select(agency_cd:Discharge)


#ggplot(SacrWaterData.processed, aes(x = Date, y = Discharge)) +
 # geom_line()


```


```{r, Time Series Interactive Plot}


#Load libraries
library(xts)
#install.packages("dygraphs")
library(dygraphs)

#create time-series object
discharge_timeSeries <- xts(x = AlpineWaterData.processed$Discharge,
                            order.by = AlpineWaterData.processed$Date)

#create a basic interactive element
interact_time <- dygraph(discharge_timeSeries)
interact_time

#create a basic interactive element
interact_time2 <- dygraph(discharge_timeSeries) %>%
  dyRangeSelector()
interact_time2

```
